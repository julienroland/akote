(function(e){"use strict";var t,n=new google.maps.Geocoder,r,i=new google.maps.Marker,s,o=google.maps.geometry.spherical,u=document.getElementById("map"),a;e(function(){var t={types:["(cities)"],componentRestrictions:{country:"be"}};a=new google.maps.places.Autocomplete(u,t);e("#filtrer").click(function(){var t=document.getElementById("distance").value;if(e.isNumeric(t))var n=t;else var n=0;var r=document.getElementById("map").value;c(r,n)});e("#map").change(function(){var t=document.getElementById("distance").value;if(e.isNumeric(t))var n=t;else var n=0;var r=document.getElementById("map").value;c(r,n)});f()});var f=function(){var e={disableDefaultUI:!0,scrollwheel:!1,zoom:7,mapTypeId:google.maps.MapTypeId.ROADMAP,center:new google.maps.LatLng(50.5,4)};t=new google.maps.Map(document.getElementById("gmap"),e)},l=function(e,n){s&&s.setMap(null);var r=e.lb,u=e.mb;l=Number(n);var a=new google.maps.LatLng(r,u),f=o.computeOffset(a,l,0);i.setPosition(a);i.setMap(t);var l=google.maps.geometry.spherical.computeDistanceBetween(a,f),c={strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35,map:t,center:e,radius:l};s=new google.maps.Circle(c)},c=function(r,s){var o={disableDefaultUI:!0,scrollwheel:!1,zoom:8,mapTypeId:google.maps.MapTypeId.HYBRID,center:n.geocode({address:r,region:"BE"},function(n,r){if(r===google.maps.GeocoderStatus.OK){var o=n[0].geometry.location;t.setZoom(14);t.panTo(o);console.log(o);var u=o.lb+","+o.mb;e("#coords").attr("value",u);i.setPosition(o);i.setMap(t);l(o,s)}else r===google.maps.GeocoderStatus.ZERO_RESULTS?alert("La google map n'a rien trouvé car aucune donnée n'a été entré"):r===google.maps.GeocoderStatus.INVALID_REQUEST&&alert("La google map n'a rien trouvé car la requête est incorrect")})}},h=function(e){return e*Math.PI/180},p=function(e){return Math.PI*e/180}}).call(this,jQuery);