(function(e){"use strict";var t,n,r=new google.maps.Circle,i=new google.maps.Rectangle,s=[],o=new RegExp("[,]"),u=new google.maps.Geocoder,a,f=new google.maps.Marker,r,l=google.maps.geometry.spherical,c=document.getElementById("map"),h;e(function(){p();var t={types:["(cities)"],componentRestrictions:{country:"be"}};h=new google.maps.places.Autocomplete(c,t);e("#filtrer").click(function(){var t=document.getElementById("distance").value;if(e.isNumeric(t))var n=t;else var n=0;var r=document.getElementById("map").value;E(r,n)});e("#map").change(function(){var t=document.getElementById("distance").value;if(e.isNumeric(t))var n=t;else var n=0;var r=document.getElementById("map").value;E(r,n)});b()});var p=function(){e.ajax({dataType:"json",url:"dataKot",success:function(e){d(e.data)}})},d=function(e){for(var t=0;t<=e.lat.length-1;t++){var n=e.lat[t],r=e.lng[t],i=[n,r];s.push(i);y(Number(s[t][0]),Number(s[t][1]),e.adresse[t])}},v=function(e,n){return{strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35,map:t,center:e,radius:n}},m=function(e){console.log(e);return{bounds:e,map:t,strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35}},g=function(e,t){v(e,t);var n=l.computeOffset(e,t,0),r=l.computeOffset(e,t,90),s=l.computeOffset(e,t,180),o=l.computeOffset(e,t,360),u=new google.maps.LatLngBounds(n,s,r,o),a=m(u);i.setOptions(a)},y=function(e,r,i){var s=new google.maps.LatLng(e,r);n=new google.maps.Marker({position:s,map:t,animation:google.maps.Animation.DROP,title:i})},b=function(){var e={disableDefaultUI:!0,scrollwheel:!1,zoom:7,mapTypeId:google.maps.MapTypeId.ROADMAP,center:new google.maps.LatLng(50.5,4)};t=new google.maps.Map(document.getElementById("gmap"),e)},w=function(e,n){r&&r.setMap(null);b=Number(n);var i=e,s=l.computeOffset(i,b,0),o=l.computeOffset(i,b,90),u=l.computeOffset(i,b,180),a=l.computeOffset(i,b,360),c="data:"+s.lb+","+s.mb,h="data:"+o.lb+","+o.mb,p="data:"+u.lb+","+u.mb,d="data:"+a.lb+","+a.mb,m=Number(s.lb),y=Number(s.mb);f.setPosition(i);f.setMap(t);var b=google.maps.geometry.spherical.computeDistanceBetween(i,s),w=v(e,b);r.setOptions(w);g(e,b)},E=function(n,r){var i=Number(r),s={disableDefaultUI:!0,scrollwheel:!1,zoom:8,mapTypeId:google.maps.MapTypeId.HYBRID,center:u.geocode({address:n,region:"BE"},function(n,s){if(s===google.maps.GeocoderStatus.OK){var o=n[0].geometry.location;t.setZoom(14);t.panTo(o);var u=o;e("#coords").attr("value",u);var a=l.computeOffset(o,i,360);f.setPosition(o);f.setMap(t);w(o,r)}else s===google.maps.GeocoderStatus.ZERO_RESULTS?alert("La google map n'a rien trouvé car aucune donnée n'a été entré"):s===google.maps.GeocoderStatus.INVALID_REQUEST&&alert("La google map n'a rien trouvé car la requête est incorrect")})}},S=function(e){return e*Math.PI/180},x=function(e){return Math.PI*e/180}}).call(this,jQuery);