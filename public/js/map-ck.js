(function(e){"use strict";var t,n,r=new google.maps.Circle,i=[],s=new RegExp("[,]"),o=new google.maps.Geocoder,u,a=new google.maps.Marker,r,f=google.maps.geometry.spherical,l=document.getElementById("map"),c;e(function(){e.ajax({dataType:"json",url:"dataKot",success:function(e){console.log(e.data);h(e.data)}});var t={types:["(cities)"],componentRestrictions:{country:"be"}};c=new google.maps.places.Autocomplete(l,t);e("#filtrer").click(function(){var t=document.getElementById("distance").value;if(e.isNumeric(t))var n=t;else var n=0;var r=document.getElementById("map").value;g(r,n)});e("#map").change(function(){var t=document.getElementById("distance").value;if(e.isNumeric(t))var n=t;else var n=0;var r=document.getElementById("map").value;g(r,n)});v()});var h=function(e){for(var t=0;t<=e.LatLng.length-1;t++){var n=e.LatLng[t];i.push(n.split(s));d(Number(i[t][0]),Number(i[t][1]),e.adresse[t]);p(Number(i[t][0]),Number(i[t][1]))}},p=function(e,t){if(prout){r.setOptions(aCircleOptions);var n=r.getBounds();console.log(n.contains(new google.maps.LatLng(50.4658,4.8677)))}},d=function(e,r,i){var s=new google.maps.LatLng(e,r);n=new google.maps.Marker({position:s,map:t,animation:google.maps.Animation.DROP,title:i})},v=function(){var e={disableDefaultUI:!0,scrollwheel:!1,zoom:7,mapTypeId:google.maps.MapTypeId.ROADMAP,center:new google.maps.LatLng(50.5,4)};t=new google.maps.Map(document.getElementById("gmap"),e)},m=function(e,n){r&&r.setMap(null);var i=e.lb,s=e.mb;b=Number(n);var o=new google.maps.LatLng(i,s),u=f.computeOffset(o,b,0),l=f.computeOffset(o,b,90),c=f.computeOffset(o,b,180),h=f.computeOffset(o,b,360),p="data:"+u.lb+","+u.mb,d="data:"+l.lb+","+l.mb,v="data:"+c.lb+","+c.mb,m="data:"+h.lb+","+h.mb,g=Number(u.lb),y=Number(u.mb);a.setPosition(o);a.setMap(t);var b=google.maps.geometry.spherical.computeDistanceBetween(o,u),w={strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35,map:t,center:e,radius:b};r.setOptions(w)},g=function(n,r){var i=Number(r),s={disableDefaultUI:!0,scrollwheel:!1,zoom:8,mapTypeId:google.maps.MapTypeId.HYBRID,center:o.geocode({address:n,region:"BE"},function(n,s){if(s===google.maps.GeocoderStatus.OK){var o=n[0].geometry.location;t.setZoom(14);t.panTo(o);var u=o.lb+","+o.mb;e("#coords").attr("value",u);console.log("ville:"+o);var l=f.computeOffset(o,i,360);console.log("bla:"+l);a.setPosition(o);a.setMap(t);m(o,r)}else s===google.maps.GeocoderStatus.ZERO_RESULTS?alert("La google map n'a rien trouvé car aucune donnée n'a été entré"):s===google.maps.GeocoderStatus.INVALID_REQUEST&&alert("La google map n'a rien trouvé car la requête est incorrect")})}},y=function(e){return e*Math.PI/180},b=function(e){return Math.PI*e/180}}).call(this,jQuery);